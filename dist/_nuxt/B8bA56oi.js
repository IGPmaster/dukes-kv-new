import{m as r,E as g,r as u,n as h,c as a,a as t,t as l,J as m,o as n,W as x,a1 as f}from"./Bz25RTwc.js";const b={key:0,class:"promotion-page"},w={class:"relative"},y=["src"],k=["src"],L={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},B={class:"text-3xl font-bold text-gray-900 mb-4"},T={class:"mb-6 text-sm text-gray-500"},D={key:0},E={key:1},H=["innerHTML"],I={class:"bg-gray-50 p-6 rounded-lg"},M=["innerHTML"],V={key:1,class:"text-center py-12"},C={class:"text-red-600"},P={key:2,class:"text-center py-12"},R={__name:"[slug]",setup($){r(()=>x);const _=g(),c=f(),e=u(null),i=u(null),p=r(()=>c.public.whitelabelId),v=r(()=>c.public.lang),d=s=>new Date(s).toLocaleDateString();return h(async()=>{try{const s=await fetch(`https://casino-promotions-api.tech1960.workers.dev/promotion?brandId=${p.value}&lang=${v.value}&slug=${_.params.slug}`);if(!s.ok)throw new Error("Promotion not found");const o=await s.json();e.value=o}catch(s){i.value=s.message}}),(s,o)=>e.value?(n(),a("div",b,[t("div",w,[t("img",{src:e.value.images.desktop,alt:"Promotion Banner",class:"w-full hidden md:block"},null,8,y),t("img",{src:e.value.images.mobile,alt:"Promotion Banner",class:"w-full md:hidden"},null,8,k)]),t("div",L,[t("h1",B,l(e.value.title),1),t("div",T,[e.value.valid_from?(n(),a("span",D," Valid from: "+l(d(e.value.valid_from)),1)):m("",!0),e.value.valid_to?(n(),a("span",E," - Valid until: "+l(d(e.value.valid_to)),1)):m("",!0)]),t("div",{class:"prose max-w-none mb-8",innerHTML:e.value.description},null,8,H),t("div",I,[o[0]||(o[0]=t("h2",{class:"text-lg font-semibold mb-4"},"Terms & Conditions",-1)),t("div",{class:"prose max-w-none",innerHTML:e.value.terms},null,8,M)])])])):i.value?(n(),a("div",V,[t("p",C,l(i.value),1)])):(n(),a("div",P,o[1]||(o[1]=[t("div",{class:"animate-spin h-8 w-8 mx-auto mb-4"},"Loading...",-1)])))}};export{R as default};
