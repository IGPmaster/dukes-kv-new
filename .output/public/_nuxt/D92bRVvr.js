import{_ as N}from"./ChTx_Azl.js";import{_ as H,r as w,n as V,Z as T,X as I,c as r,a as e,b as B,w as M,t as l,I as x,B as O,d as k,J as R,o as n}from"./CcejT47R.js";import{u as S}from"./B2lLvIP6.js";const $={class:"pt-24 bg-gradient-to-b from-primary_bg to-tertiary_dark min-h-screen"},z={class:"container mx-auto px-4 sm:px-6 lg:px-8 pb-24"},E={key:0,class:"flex justify-center items-center min-h-[400px]"},K={key:1,class:"text-center py-12"},F={class:"max-w-md mx-auto"},J={class:"mt-6"},U={key:2,class:"max-w-4xl mx-auto"},W={class:"relative rounded-lg overflow-hidden mb-8 bg-tertiary shadow-xl bg-tertiary_dark px-10"},X=["src","alt"],Z={class:"text-center mb-8"},q={class:"text-4xl font-bold text-primary mb-4"},A={key:0,class:"text-gray-400 text-lg"},G={class:"flex justify-between items-center mb-8"},Q={class:"flex items-center space-x-4"},Y={key:0,class:"px-3 py-1 rounded-full text-sm font-semibold bg-primary/10 text-primary"},tt={key:0,class:"text-sm text-gray-400"},et={key:0},ot={class:"flex flex-col md:flex-row gap-6 mb-8 items-center"},st=["src","alt"],rt={class:"prose prose-lg max-w-none prose-invert text-gray-50"},nt=["innerHTML"],at={key:0,class:"bg-tertiary rounded-lg p-6 mb-8"},lt=["innerHTML"],it={class:"flex justify-between mt-12"},dt={__name:"[slug]",setup(ut){const P=R().params.slug,t=w(null),y=w(!0),h=w(!1),b=s=>s||"/images/placeholder-promotion.jpg",j=s=>s?new Date(s).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"",C=s=>({seasonal:"Seasonal Promotion",welcome:"Welcome Offer",loyalty:"Loyalty Reward"})[s]||s;V(async()=>{var s,o,i,d,u,c,m,p,v,f,g;y.value=!0;try{(s=T.value)!=null&&s.length||await I();const a=T.value.find(_=>_.slug===P);if(!a){h.value=!0;return}t.value=a,S({title:((o=t.value.meta)==null?void 0:o.title)||`${t.value.title} - Special Promotion`,meta:[{name:"description",content:((i=t.value.meta)==null?void 0:i.description)||((d=t.value.content)==null?void 0:d.short_description)||""},{name:"keywords",content:((c=(u=t.value.meta)==null?void 0:u.keywords)==null?void 0:c.join(", "))||"casino promotion, bonus, special offer"},{property:"og:title",content:((m=t.value.meta)==null?void 0:m.og_title)||t.value.title},{property:"og:description",content:((p=t.value.meta)==null?void 0:p.og_description)||((v=t.value.content)==null?void 0:v.short_description)||""},{property:"og:image",content:b((g=(f=t.value.images)==null?void 0:f.desktop)==null?void 0:g.url)}]})}catch(a){console.error("Error fetching promotion:",a),h.value=!0}finally{y.value=!1}});const D=s=>{console.log(`Claiming offer for promotion: ${s.title}`)};return(s,o)=>{var d,u,c,m,p,v,f,g,a,_,L;const i=N;return n(),r("div",$,[e("div",z,[y.value?(n(),r("div",E,o[1]||(o[1]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"},null,-1)]))):h.value?(n(),r("div",K,[e("div",F,[o[3]||(o[3]=e("svg",{class:"mx-auto h-12 w-12 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),o[4]||(o[4]=e("h3",{class:"mt-2 text-lg font-medium text-gray-300"},"Promotion Not Found",-1)),o[5]||(o[5]=e("p",{class:"mt-1 text-sm text-gray-400"},"The promotion you're looking for might be expired or unavailable.",-1)),e("div",J,[B(i,{to:"/promotions",class:"text-secondary hover:text-secondary/90"},{default:M(()=>o[2]||(o[2]=[k(" Return to Promotions ")])),_:1})])])])):(n(),r("div",U,[e("div",W,[e("img",{src:b((u=(d=t.value.images)==null?void 0:d.desktop)==null?void 0:u.url),alt:((m=(c=t.value.images)==null?void 0:c.desktop)==null?void 0:m.alt)||t.value.title,class:"w-full h-auto"},null,8,X)]),e("div",Z,[e("h1",q,l(t.value.title),1),(p=t.value.content)!=null&&p.short_description?(n(),r("p",A,l(t.value.content.short_description),1)):x("",!0)]),e("div",G,[e("div",Q,[e("span",{class:O({"px-3 py-1 rounded-full text-sm font-semibold":!0,"bg-green-500 text-white":t.value.status==="active","bg-yellow-500 text-white":t.value.status==="scheduled","bg-gray-500 text-white":t.value.status==="expired"})},l(t.value.status),3),C(t.value.type)?(n(),r("span",Y,l(C(t.value.type)),1)):x("",!0)]),t.value.valid_from?(n(),r("div",tt,[k(" Valid from: "+l(j(t.value.valid_from))+" ",1),t.value.valid_to?(n(),r("span",et," to "+l(j(t.value.valid_to)),1)):x("",!0)])):x("",!0)]),e("div",ot,[e("img",{src:b((f=(v=t.value.images)==null?void 0:v.mobile)==null?void 0:f.url),alt:((a=(g=t.value.images)==null?void 0:g.mobile)==null?void 0:a.alt)||t.value.title,class:"w-full md:w-1/3 h-auto object-cover rounded-lg shadow-md"},null,8,st),e("div",rt,[e("div",{innerHTML:(_=t.value.content)==null?void 0:_.description},null,8,nt)])]),(L=t.value.content)!=null&&L.terms?(n(),r("div",at,[o[6]||(o[6]=e("h2",{class:"text-2xl font-bold text-primary mb-4"},"Terms & Conditions",-1)),e("div",{class:"prose prose-sm max-w-none prose-invert text-gray-50",innerHTML:t.value.content.terms},null,8,lt)])):x("",!0),e("div",it,[B(i,{to:"/promotion",class:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-gray-300 bg-secondary hover:bg-secondary/90 transition-colors duration-200"},{default:M(()=>o[7]||(o[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),k(" Back to Promotions ")])),_:1}),e("button",{onClick:o[0]||(o[0]=mt=>D(t.value)),class:"px-6 py-3 bg-orange-500 text-white text-base font-semibold rounded-md shadow-lg hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors duration-200"}," Claim Offer ")])]))])])}}},gt=H(dt,[["__scopeId","data-v-0df94091"]]);export{gt as default};
