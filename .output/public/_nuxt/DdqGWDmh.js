import{r,n as b,at as k}from"./AuDPTbWI.js";function D(){const i=r(!1),u=r(!1),m=r(null),g=r(""),h=r(""),v=r(""),a=r({necessary:!0,analytics:!1,affiliate:!0}),S=[{id:"necessary",label:"Necessary Cookies",description:"Essential for website functionality. These cookies are required and cannot be disabled.",required:!0},{id:"analytics",label:"Analytics Cookies",description:"Help us understand how visitors interact with our website. These cookies collect anonymous information.",required:!1},{id:"affiliate",label:"Affiliate Tracking",description:"Essential for our business operations. We use a unique identifier stored for 30 days to credit our partners when you visit gaming sites. No personal data is collected.",required:!0}],f=e=>{if(typeof document>"u")return null;const n=`; ${document.cookie}`.split(`; ${e}=`);return n.length===2?n.pop().split(";").shift():null},c=()=>typeof window>"u"?null:new URLSearchParams(window.location.search).get("tracker"),y=e=>{if(!e||!a.value.affiliate)return;const t=new Date;t.setDate(t.getDate()+30),t.toISOString().split("T")[0],document.cookie=`affiliateTracker=${e}; expires=${t.toUTCString()}; path=/; SameSite=Strict; max-age=${30*24*60*60}`,s(e)},s=e=>{e||(e=c()||f("affiliateTracker"));const t=e?`?tracker=${e}`:"";g.value=`${k}${t}#registration`,h.value=`${k}${t}#login`,v.value=`${k}${t}#play/`},d=()=>{if(typeof document>"u")return;const e=["PHPSESSID"];document.cookie.split(";").forEach(n=>{const o=n.split("=")[0].trim();e.includes(o)||(document.cookie=`${o}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/`,document.cookie=`${o}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain=${window.location.hostname}`,document.cookie=`${o}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain=.${window.location.hostname}`)})},p=e=>{if(d(),localStorage.setItem("cookieConsent",JSON.stringify({preferences:e,timestamp:new Date().toISOString(),version:"1.0"})),e.affiliate){const n=c()||m.value;if(n)y(n);else{const o=f("affiliateTracker");s(o)}}else s(null);e.analytics},w=()=>{const e={necessary:!0,analytics:!0,affiliate:!0};a.value=e,p(e),i.value=!1},T=()=>{if(typeof window>"u")return;const e=["PHPSESSID"];document.cookie.split(";").forEach(o=>{const l=o.split("=")[0].trim();e.includes(l)||(document.cookie=`${l}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/`,document.cookie=`${l}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain=${window.location.hostname}`,document.cookie=`${l}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain=.${window.location.hostname}`)});const n=["cookieConsent"];Object.keys(localStorage).forEach(o=>{n.includes(o)||localStorage.removeItem(o)}),sessionStorage.clear()},$=()=>{const e={necessary:!0,analytics:!1,affiliate:!1};a.value=e,T(),p(e),i.value=!1},C=()=>{const e={...a.value,necessary:!0};a.value=e,p(e),i.value=!1,u.value=!1},P=()=>{localStorage.getItem("cookieConsent")||(a.value={necessary:!0,analytics:!0,affiliate:!0}),u.value=!0},x=()=>{const e=localStorage.getItem("cookieConsent");if(!e)return null;try{return JSON.parse(e)}catch{return null}},I=()=>{T(),localStorage.removeItem("cookieConsent"),a.value={necessary:!0,analytics:!1,affiliate:!1},s(null),i.value=!0};return b(()=>{const e=localStorage.getItem("cookieConsent");if(e)try{const{preferences:t}=JSON.parse(e);if(a.value={...t,necessary:!0},t.affiliate){const n=c();if(n)y(n);else{const o=f("affiliateTracker");s(o||null)}}else d(),s(null);i.value=!1}catch(t){console.error("Error parsing saved consent:",t),d(),localStorage.removeItem("cookieConsent"),i.value=!0,s(null)}else{const t=c();t&&(m.value=t),s(null),i.value=!0}}),{showBanner:i,isPreferencesOpen:u,preferences:a,cookieCategories:S,handleAcceptAll:w,handleDeclineAll:$,savePreferences:C,handleOpenPreferences:P,withdrawConsent:I,getConsentStatus:x,regLink:g,loginLink:h,playLink:v}}export{D as u};
